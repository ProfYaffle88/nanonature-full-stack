{% load static %}
{% load crispy_forms_tags %}

{% url 'account_login' as login_url %}
{% url 'account_signup' as signup_url %}
{% url 'account_logout' as logout_url %}
<!DOCTYPE html>
<html class="h-100" lang="en">

<head>
    <title>NanoNature</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google Fonts CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Rubik+Moonrocks&display=swap"
        rel="stylesheet">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body class="d-flex flex-column main-bg">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark dark-bg">
        <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'home' %}"><span class="brand">NanoNature</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText"
                aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == home_url %}active" aria-current="page{% endif %}"
                            href="{% url 'home' %}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == about_url %}active" aria-current="page{% endif %}"
                            href="{% url 'about' %}">About</a>
                    </li>
                    {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link btn-edit" href="{% url 'project-create' %}">Create New Project</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == logout_url %}active" aria-current="page{% endif %}"
                            href="{% url 'account_logout' %}">Logout</a>
                    </li>
                    {% else %}
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == signup_url %}active" aria-current="page{% endif %}"
                            href="{% url 'account_signup' %}">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == login_url %}active" aria-current="page{% endif %}"
                            href="{% url 'account_login' %}">Login</a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>
    <div class="living-edge living-edge-top-2">
        <!-- <svg id="visual" viewBox="0 0 960 50" width="960" height="50" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
            <path
                d="M0 12L8.5 13C17 14 34 16 50.8 16C67.7 16 84.3 14 101.2 13C118 12 135 12 151.8 13.8C168.7 15.7 185.3 19.3 202.2 19.8C219 20.3 236 17.7 252.8 18.2C269.7 18.7 286.3 22.3 303.2 22C320 21.7 337 17.3 353.8 15.3C370.7 13.3 387.3 13.7 404.2 14.5C421 15.3 438 16.7 454.8 17.5C471.7 18.3 488.3 18.7 505.2 19.3C522 20 539 21 555.8 22.3C572.7 23.7 589.3 25.3 606.2 24.7C623 24 640 21 656.8 18.8C673.7 16.7 690.3 15.3 707.2 16.8C724 18.3 741 22.7 757.8 22.8C774.7 23 791.3 19 808.2 16.3C825 13.7 842 12.3 858.8 12C875.7 11.7 892.3 12.3 909.2 14.3C926 16.3 943 19.7 951.5 21.3L960 23L960 0L951.5 0C943 0 926 0 909.2 0C892.3 0 875.7 0 858.8 0C842 0 825 0 808.2 0C791.3 0 774.7 0 757.8 0C741 0 724 0 707.2 0C690.3 0 673.7 0 656.8 0C640 0 623 0 606.2 0C589.3 0 572.7 0 555.8 0C539 0 522 0 505.2 0C488.3 0 471.7 0 454.8 0C438 0 421 0 404.2 0C387.3 0 370.7 0 353.8 0C337 0 320 0 303.2 0C286.3 0 269.7 0 252.8 0C236 0 219 0 202.2 0C185.3 0 168.7 0 151.8 0C135 0 118 0 101.2 0C84.3 0 67.7 0 50.8 0C34 0 17 0 8.5 0L0 0Z"
                fill="#143601" stroke-linecap="round" stroke-linejoin="miter">
            </path>
            <path 
                d="M0 23L8.5 23.5C17 24 34 25 50.8 25.3C67.7 25.7 84.3 25.3 101.2 23.5C118 21.7 135 18.3 151.8 17.8C168.7 17.3 185.3 19.7 202.2 20.5C219 21.3 236 20.7 252.8 21.3C269.7 22 286.3 24 303.2 24.7C320 25.3 337 24.7 353.8 22.8C370.7 21 387.3 18 404.2 16C421 14 438 13 454.8 12.7C471.7 12.3 488.3 12.7 505.2 13.2C522 13.7 539 14.3 555.8 14.8C572.7 15.3 589.3 15.7 606.2 16.7C623 17.7 640 19.3 656.8 19.5C673.7 19.7 690.3 18.3 707.2 18.5C724 18.7 741 20.3 757.8 21.5C774.7 22.7 791.3 23.3 808.2 21.5C825 19.7 842 15.3 858.8 15.3C875.7 15.3 892.3 19.7 909.2 20C926 20.3 943 16.7 951.5 14.8L960 13L960 0L951.5 0C943 0 926 0 909.2 0C892.3 0 875.7 0 858.8 0C842 0 825 0 808.2 0C791.3 0 774.7 0 757.8 0C741 0 724 0 707.2 0C690.3 0 673.7 0 656.8 0C640 0 623 0 606.2 0C589.3 0 572.7 0 555.8 0C539 0 522 0 505.2 0C488.3 0 471.7 0 454.8 0C438 0 421 0 404.2 0C387.3 0 370.7 0 353.8 0C337 0 320 0 303.2 0C286.3 0 269.7 0 252.8 0C236 0 219 0 202.2 0C185.3 0 168.7 0 151.8 0C135 0 118 0 101.2 0C84.3 0 67.7 0 50.8 0C34 0 17 0 8.5 0L0 0Z" 
                fill="#143601" stroke-linecap="round" stroke-linejoin="miter">

            </path>
        </svg> -->
    </div>
    <div class="living-edge living-edge-top-2"></div>
    <!-- displaying Django messages for delete confirmation etc -->
    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                {% for message in messages %}
                <div class="alert {{ message.tags }} alert-dismissible fade show" id="msg" role="alert">
                    {{ message | safe }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <main class="flex-shrink-0 main-bg">
        <div class="container">
            <div class="row justify-content-end">
                {% if user.is_authenticated %}
                <div class="col-auto m-3 login-status">You are logged in as {{ user }}</div>
                {% else %}
                <div class="col-auto m-3 login-status">You are not logged in</div>
                {% endif %}
            </div>
        </div>
        {% block content %}
        <!-- Content Goes here -->
        {% endblock content %}

    </main>

    <!-- Footer -->
    <footer class="footer py-3 dark-bg">
        <div class="living-edge living-edge-bottom-1">
            <!-- <div class="wave-bottom">
                <svg id="visual" viewBox="0 0 960 50" width="960" height="50" 
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
                    <path id="wave-bottom-1"
                        d="M0 27L8.5 28.5C17 30 34 33 50.8 34.7C67.7 36.3 84.3 36.7 101.2 35.7C118 34.7 135 32.3 151.8 30.5C168.7 28.7 185.3 27.3 202.2 27C219 26.7 236 27.3 252.8 29.2C269.7 31 286.3 34 303.2 35.3C320 36.7 337 36.3 353.8 35C370.7 33.7 387.3 31.3 404.2 29.7C421 28 438 27 454.8 27.5C471.7 28 488.3 30 505.2 31.2C522 32.3 539 32.7 555.8 31.5C572.7 30.3 589.3 27.7 606.2 28C623 28.3 640 31.7 656.8 32C673.7 32.3 690.3 29.7 707.2 29.5C724 29.3 741 31.7 757.8 31.3C774.7 31 791.3 28 808.2 26.2C825 24.3 842 23.7 858.8 23.2C875.7 22.7 892.3 22.3 909.2 22.3C926 22.3 943 22.7 951.5 22.8L960 23L960 51L951.5 51C943 51 926 51 909.2 51C892.3 51 875.7 51 858.8 51C842 51 825 51 808.2 51C791.3 51 774.7 51 757.8 51C741 51 724 51 707.2 51C690.3 51 673.7 51 656.8 51C640 51 623 51 606.2 51C589.3 51 572.7 51 555.8 51C539 51 522 51 505.2 51C488.3 51 471.7 51 454.8 51C438 51 421 51 404.2 51C387.3 51 370.7 51 353.8 51C337 51 320 51 303.2 51C286.3 51 269.7 51 252.8 51C236 51 219 51 202.2 51C185.3 51 168.7 51 151.8 51C135 51 118 51 101.2 51C84.3 51 67.7 51 50.8 51C34 51 17 51 8.5 51L0 51Z" 
                        fill="#143601" stroke-linecap="round" stroke-linejoin="miter">
                    </path>
                    <path id="wave-bottom-2"
                        d="M0 23L8.5 24.3C17 25.7 34 28.3 50.8 30.5C67.7 32.7 84.3 34.3 101.2 34.7C118 35 135 34 151.8 33C168.7 32 185.3 31 202.2 29.2C219 27.3 236 24.7 252.8 24.5C269.7 24.3 286.3 26.7 303.2 29C320 31.3 337 33.7 353.8 34.2C370.7 34.7 387.3 33.3 404.2 32.5C421 31.7 438 31.3 454.8 32C471.7 32.7 488.3 34.3 505.2 33.3C522 32.3 539 28.7 555.8 27.8C572.7 27 589.3 29 606.2 30.5C623 32 640 33 656.8 31.7C673.7 30.3 690.3 26.7 707.2 26C724 25.3 741 27.7 757.8 28.7C774.7 29.7 791.3 29.3 808.2 29.5C825 29.7 842 30.3 858.8 29.3C875.7 28.3 892.3 25.7 909.2 26.3C926 27 943 31 951.5 33L960 35L960 51L951.5 51C943 51 926 51 909.2 51C892.3 51 875.7 51 858.8 51C842 51 825 51 808.2 51C791.3 51 774.7 51 757.8 51C741 51 724 51 707.2 51C690.3 51 673.7 51 656.8 51C640 51 623 51 606.2 51C589.3 51 572.7 51 555.8 51C539 51 522 51 505.2 51C488.3 51 471.7 51 454.8 51C438 51 421 51 404.2 51C387.3 51 370.7 51 353.8 51C337 51 320 51 303.2 51C286.3 51 269.7 51 252.8 51C236 51 219 51 202.2 51C185.3 51 168.7 51 151.8 51C135 51 118 51 101.2 51C84.3 51 67.7 51 50.8 51C34 51 17 51 8.5 51L0 51Z" 
                        fill="#143601" stroke-linecap="round" stroke-linejoin="miter">
                    </path>
                </svg>
            </div> -->
        </div>
        <div class="living-edge living-edge-bottom-2"></div>
        <p class="m-0 text-center text-white">
            {% block copyright %}Lovingly grown by Professor Yaffle{% endblock copyright %}
        </p>
        <p class="m-0 text-center text-white">Follow NanoNature on other platforms: <i
                class="fab fa-facebook-square ms-3"></i>
            <i class="fab fa-twitter-square ms-3"></i>
            <i class="fab fa-instagram-square ms-3"></i>
            <i class="fab fa-youtube-square ms-3"></i>
        </p>
    </footer>

    <!-- Bootstrap - CSS styling -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous">
    </script>
    <!-- Kute - JS animated shapes -->
    <script src="https://cdn.jsdelivr.net/npm/kute.js@2.2.4/dist/kute.min.js"
        integrity="sha384-DzWxKrJXATUbsJE2JgXFIdNlv7WmhRWNJ2xmfLb8kEcE1w4s2y+G3Agrhd+TCs0O" crossorigin="anonymous">
    </script>
    <!-- Custom script -->
    <script src="{% static 'js/script.js' %}"></script>

    {% block extras %}
    {% endblock %}

</body>

</html>